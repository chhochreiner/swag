<?xml version="1.0" encoding="UTF-8"?>

<project name="swag-webapp-helpers" basedir=".">
	<!-- import our own ant tasks -->
	<import file="../ant-macros.xml"/>
	
	<!-- ***** PROPERTIES ***************************************************************** -->
	<!-- application data -->
	<property name="application.name" value="swag-webapp"/>
   	<property name="context.root"     value="swag"/>
 	   	
	<!-- MANAGE GLASSFISH RESOURCES ******************************************************* -->
	<target name="setup" depends="setup-jms"></target>
	
	<target name="setup-jms" depends="clean-jms">
		<asadmin command="create-connector-connection-pool"
		         parameters="--raname jmsra 
		                     --connectiondefinition javax.jms.ConnectionFactory
		                     swag.JMSPool"/>
		
		<create-jms-queue name="swag.queue.Notification"/>
	</target>
	<target name="clean-jms">
		<asadmin command="delete-connector-connection-pool"
		         parameters="--cascade=true swag.JMSPool"/>

		<delete-jms-resource name="swag.queue.Notification"/>
	</target>
</project>